#:import get_color_from_hex kivy.utils.get_color_from_hex
#:import Window kivy.core.window.Window
#:import FadeTransition kivy.uix.screenmanager.FadeTransition
#:include kv/classes.kv


MDScreen:
    name: 'login'
    LoginLayout:
        id: login_page

        ############## LOGIN INPUTS ###############

        LoginLabelCard:
            pos_hint: {"center_x": 0.5, "center_y": 0.85}
            LoginHeaderLabel:
                text: 'Login'






        LoginLabelCard:
            pos_hint: {"center_x": 0.5, "center_y": 0.76}
            LoginGeneralLabel:
                text: 'Username'
        LoginInputCard:
            pos_hint: {"center_x": 0.5, "center_y": 0.7}
            MDBoxLayout:
                orientation: "horizontal"
                LoginInputField:
                    id: username_login
                    on_focus: app.keypad_listener(self.parent.parent.pos_hint , self.focus)





        LoginLabelCard:
            pos_hint: {"center_x": 0.5, "center_y": 0.636}
            LoginGeneralLabel:
                text: 'Password'
        LoginInputCard:
            pos_hint: {"center_x": 0.5, "center_y": 0.576}
            MDBoxLayout:
                orientation: "horizontal"
                LoginInputField:
                    id: password_login
                    password: True
                    on_focus: app.keypad_listener(self.parent.parent.pos_hint , self.focus)


        LoginLabelCard:
            pos_hint: {"center_x": 0.5, "center_y": 0.512}
            LoginGeneralLabel:
                text: 'Forgot password?'
                halign: 'right'


        ############## LOGIN BUTTON #################

        LoginButton:
            Button:
                id: login_btn
                background_color: 0,0,0,0
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                on_press: app.verify()

        LoginButton:
            MDBoxLayout:
                LoginButtonLabel:
                    text: 'LOGIN'
                    bold: True



        ############## SOCIAL LOGIN SECTION ##########

        MDCard:
            orientation: "vertical"
            md_bg_color: get_color_from_hex("#012241")
            size_hint: 0.9 , 0.02
            elevation: 0
            pos_hint: {"center_x": 0.5, "center_y": 0.15}
            LoginFooterLabel:
                text: 'or'


        MDCard:
            orientation: "horizontal"
            md_bg_color: get_color_from_hex("#012241")
            size_hint: 0.9 , 0.02
            elevation: 0
            pos_hint: {"center_x": 0.5, "center_y": 0.1}
            MDFloatLayout:
                MDIconButton:
                    halign: "center"
                    icon: "assets/images/facebook_logo.png"
                    on_press: app.facebook_login()
                    size: self.parent.size
                    user_font_size: "5sp"
                    pos_hint: {"center_x": 0.43, "center_y": 0.5}
                MDIconButton:
                    halign: "center"
                    icon: "assets/images/google_logo.png"
                    on_press: app.google_login()
                    size: self.parent.size
                    user_font_size: "5sp"
                    pos_hint: {"center_x": 0.57, "center_y": 0.5}


        ############## GOTO SIGNUP #################

        MDBoxLayout:
            size_hint:  0.7 , 0.05
            id: sign_up_page
            pos_hint: {"center_x": 0.5, "center_y": 0.02}
            Button:
                background_color: 0,0,0,0
                on_press: app.go_to('signup')


        LoginFooter:
            LoginFooterLabel:
                text: "Don't have an account? Sign Up"
